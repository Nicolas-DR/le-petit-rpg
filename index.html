<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.15.1/css/all.css">
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
    <link rel="icon" type="image/png" href="img/favicon.png" />

    <meta name="theme-color" content="#317EFB">
	<link rel="icon" sizes="512x512" href="img/icon.png">
	<link rel="manifest" href="/manifest.json">
	<!-- reuse same icon for Safari -->
	<link rel="apple-touch-icon" href="img/icon.png">
  
	<!-- multiple icons for IE -->
	<meta name="msapplication-square310x310logo" content="img/icon.png">
	<link rel="apple-touch-icon" href="img/icon.png">
	<meta name="msapplication-square70x70logo" content="img/icon.png">
	<meta name="msapplication-square150x150logo" content="img/icon.png">
	<meta name="msapplication-wide310x150logo" content="img/icon.png">
    <!-- icon in the highest resolution we need it for -->
    
    <title>Le petit rpg</title>
</head>
<body id="img">
    <div class="menu">
    
    <button id="togg0" class="btn btn-dark btn-sm">Configuration</button>
    <button id="togg1" class="btn btn-dark btn-sm"><i class="fas fa-arrow-left"></i></button>
    <button id="togg2" class="btn btn-dark btn-sm"><i class="fas fa-arrow-up"></i></button>
    <button id="togg3" class="btn btn-dark btn-sm"><i class="fas fa-arrow-down"></i></button>
    <button id="togg4" class="btn btn-dark btn-sm"><i class="fas fa-arrow-right"></i></button>
    <button id="fullscreen1" class="da1 btn btn-dark btn-sm" onclick="openFullscreen();">Zoom</button>
    <button id="fullscreen2" class="da2 btn btn-dark btn-sm" onclick="closeFullscreen();">Dézoom</button></div>

<div class="haut"><h1>Le petit rpg</h1></div>
<canvas class="myCanvas"  style="width: 100%;
height: 416px;z-index: 0;position: absolute;"></canvas>


<div class="contenu" id="d0">
    <div class="container-fluid">
        <div class="row">
            <div class="col12 config">
                <div>
                    <h2>Configuration</h2>
                    <hr>
                    <p class="sol">

                    <div class="w3-content" style="max-width:800px">
                        <img class="mySlides" src="./img/pierregris.png" style="margin: auto;">

                           <div class="w3-center">
                        <!--  <input id="check1" type="checkbox" checked="checked">-->
                          <p class="fond1"></p>
                    </div>
                          <script>
                          $( "input" )
                            .change(function() {
                              var $input = $( this );
                              /*$( ".fond1" ).html( ".attr( 'checked' ): <b>" + $input.attr( "checked" ) + "</b><br>" +
                                ".prop( 'checked' ): <b>" + $input.prop( "checked" ) + "</b><br>" +
                                ".is( ':checked' ): <b>" + $input.is( ":checked" ) + "</b>" );*/
                                $("body").attr("class", "pierregris");
                            })
                            .change();
                          </script>

                        <img class="mySlides" src="./img/solbrique.png" style="margin: auto;">
                        <img class="mySlides" src="./img/solbriquejaune.png" style="margin: auto;">
                        <img class="mySlides" src="./img/solbrique.png" style="margin: auto;">
                        <img class="mySlides" src="./img/solfeuille.png" style="margin: auto;">
                        <img class="mySlides" src="./img/solglace.png" style="margin: auto;">
                        <img class="mySlides" src="./img/solherbe.png" style="margin: auto;">
                        <img class="mySlides" src="./img/solpetitebriquejaune.png" style="margin: auto;">
                      </div>
                      
                      <div class="w3-center">
                        <div class="w3-section">
                        </div>
                        <button class="w3-button btn btn-dark btn-sm" onclick="plusDivs(-1)">❮</button>
                        <button class="w3-button demo " onclick="currentDiv(1)">1</button> 
                        <button class="w3-button demo" onclick="currentDiv(2)">2</button> 
                        <button class="w3-button demo" onclick="currentDiv(3)">3</button>
                        <button class="w3-button demo " onclick="currentDiv(4)">4</button> 
                        <button class="w3-button demo" onclick="currentDiv(5)">5</button> 
                        <button class="w3-button demo" onclick="currentDiv(6)">6</button> 
                        <button class="w3-button demo " onclick="currentDiv(7)">7</button> 
                        <button class="w3-button demo" onclick="currentDiv(8)">8</button> 
                        <button class="w3-button btn btn-dark btn-sm" onclick="plusDivs(1)">❯</button>
                      </div>
                      
                      <script>
                          
                      var slideIndex = 1;
                      showDivs(slideIndex);


                      

                      function plusDivs(n) {
                        showDivs(slideIndex += n);
                      }
                      
                      function currentDiv(n) {
                        showDivs(slideIndex = n);

                      }
                      
                      function showDivs(n) {
                        var i;
                       /* var y = document.getElementsById("check");*/
                        var x = document.getElementsByClassName("mySlides");
                        var dots = document.getElementsByClassName("demo");
                        if (n > x.length) {slideIndex = 1}    
                        if (n < 1) {slideIndex = x.length}
                        for (i = 0; i < x.length; i++) {
                          x[i].style.display = "none";
                          /*y[i].style.display = "none";*/
                          
                        }
                        for (i = 0; i < dots.length; i++) {
                          dots[i].className = dots[i].className.replace(" w3-red", "");
                        }
                        x[slideIndex-1].style.display = "block";  
                        dots[slideIndex-1].className += " w3-red";

                      }



                      </script>
                      </p><hr>

                      <p class="personnage">

                        <div class="w3-content" style="max-width:800px">
                            <img class="mySlides2" src="./img/personnage1.png" style="margin: auto;">
    
                               <div class="w3-center">
                            <!--  <input id="check1" type="checkbox" checked="checked">-->
                              <p class="fond1"></p>
                        </div>
                              <script>
                              $( "input" )
                                .change(function() {
                                  var $input = $( this );
                                  /*$( ".fond1" ).html( ".attr( 'checked' ): <b>" + $input.attr( "checked" ) + "</b><br>" +
                                    ".prop( 'checked' ): <b>" + $input.prop( "checked" ) + "</b><br>" +
                                    ".is( ':checked' ): <b>" + $input.is( ":checked" ) + "</b>" );*/
                                    $("body").attr("class", "pierregris");
                                })
                                .change();
                              </script>
    
                            <img class="mySlides2" src="./img/personnage2.png" style="margin: auto;">
                            <img class="mySlides2" src="./img/personnage3.png" style="margin: auto;">
                            <img class="mySlides2" src="./img/personnage4.png" style="margin: auto;">
                          </div>
                          
                          <div class="w3-center">
                            <div class="w3-section">
                            </div>
                            <button class="w3-button btn btn-dark btn-sm" onclick="plusDivs(-1)">❮</button>
                            <button class="w3-button demo2" onclick="currentDiv(1)">1</button> 
                            <button class="w3-button demo2" onclick="currentDiv(2)">2</button> 
                            <button class="w3-button demo2" onclick="currentDiv(3)">3</button>
                            <button class="w3-button demo2 " onclick="currentDiv(4)">4</button> 
                            <button class="w3-button btn btn-dark btn-sm" onclick="plusDivs(1)">❯</button>
                          </div>
                          
                          <script>
                              
                          var slideIndex2 = 1;
                          showDivs(slideIndex2);
    
    
                          
    
                          function plusDivs(m) {
                            showDivs(slideIndex2 += m);
                          }
                          
                          function currentDiv(m) {
                            showDivs(slideIndex2 = m);
    
                          }
                          
                          function showDivs(m) {
                            var j;
                           /* var y = document.getElementsById("check");*/
                            var l = document.getElementsByClassName("mySlides2");
                            var dots = document.getElementsByClassName("demo2");
                            if (m > l.length) {slideIndex2 = 1}    
                            if (m < 1) {slideIndex2 = l.length}
                            for (j = 0; j < l.length; j++) {
                              l[j].style.display = "none";
                              /*y[i].style.display = "none";*/
                              
                            }
                            for (j = 0; j < dots.length; j++) {
                              dots[j].className = dots[j].className.replace(" w3-red", "");
                            }
                            l[slideIndex2-1].style.display = "block";  
                            dots[slideIndex2-1].className += " w3-red";
    
                          }
    
    
    
                          </script>
                          </p>

                </div>
            </div>
        </div>
    </div>
</div>
    



    
        
<div id="img" class=""></div>

<div id="maison"></div>
<div id="arbre"></div>
<!--<div id="cadre"></div>-->

<script src="sw.js"></script>
<script>
  
  if('serviceWorker' in navigator) {
    navigator.serviceWorker
             .register('/sw.js')
             .then(function() { console.log("Service Worker Registered"); });
  }


  // fonction qui check si appli installable
  window.addEventListener('beforeinstallprompt', (e) => {
      console.log("beforeinstallprompt");
  // Stash the event so it can be triggered later.
  deferredPrompt = e;
  // Update UI notify the user they can add to home screen
  showInstallPromotion();

});

function  showInstallPromotion() {
//  alert("ok on peut installer");

 $('#btnAdd').removeClass('d-none');

}

var btnAdd = document.getElementById("btnAdd");

btnAdd.addEventListener('click', (e) => {
// hide our user interface that shows our A2HS button
btnAdd.style.display = 'none';
// Show the prompt
deferredPrompt.prompt();
// Wait for the user to respond to the prompt
deferredPrompt.userChoice
  .then((choiceResult) => {
    if (choiceResult.outcome === 'accepted') {
      console.log('User accepted the A2HS prompt');
    } else {
      console.log('User dismissed the A2HS prompt');
    }
    deferredPrompt = null;
  });
});
 
   
</script>
<script src="js/jquery-3.5.1.min.js"></script>
<script src="./js/scripts.js"></script>
</body>
</html>